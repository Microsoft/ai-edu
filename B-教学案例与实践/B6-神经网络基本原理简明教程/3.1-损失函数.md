Copyright © Microsoft Corporation. All rights reserved.
  适用于[License](https://github.com/Microsoft/ai-edu/blob/master/LICENSE.md)版权许可


### 实际案例

假设有一组数据如下，我们想找到一条拟合的直线：

<img src=".\Images\3\mse1.png"/>

下面四张图，前三张显示了一个逐渐找到最佳拟合直线的过程。
- 第一张，用均方差函数计算得到Loss=0.5559
- 第二张，直线向上平移一些，误差计算Loss=0.1651，比图一的误差小很多
- 第三张，又向上平移了一些，误差计算Loss=0.02441，此后还可以继续尝试平移（改变b值）或者变换角度（改变w值），得到更小的Loss值
- 第四张，偏离了最佳位置，误差值Loss=0.1336，这种情况，算法会让尝试方向反向向下

<img src=".\Images\3\mse2.png"/>

我们把四张图叠加在一起看一下，绿色的线是第三张图Loss值最小的情况。

<img src=".\Images\3\mse3.png"/>

比较第二张和第四张图，由于均方差的Loss值都是正值，如何判断是向上移动还是向下移动呢？

在实际的训练过程中，是没有必要计算Loss值的，因为Loss值会体现在反向传播的过程中。我们来看看均方差函数的导数：

$$
\frac{\partial{Loss}}{\partial{a_i}} = a_i-y_i
$$
虽然$(a_i-y_i)^2$永远是正数，但是$a_i-y_i$却可以是正数（直线在点下方时）或者负数（直线在点上方时），这个正数或者负数被反向传播回到前面的计算过程中，就会引导训练过程朝相反的方向尝试。


在上面的例子中，我们有两个变量，一个w，一个b，这两个值的变化都会影响最终的Loss值的。

我们假设该拟合直线的方程是y=3x+1，当我们固定w=3，把b值从0到2变化时，看看Loss值的变化：

<img src="./Images/3/LossWithB.png"/>

我们假设该拟合直线的方程是y=3x+1，当我们固定b=1，把w值从2到4变化时，看看Loss值的变化：

<img src="./Images/3/LossWithW.png"/>


**练习：以y=3x+1为基准函数，用Python代码实现当w,b变化时，计算损失函数的过程，画出上面两张图**
其中w的变化可以是[2,4]，b的变化可以是[0,2]，取50个点。

### 损失函数值的3D示意图

<img src="./Images/3/lossfunction3d.png"/>

### 损失函数值的2D示意图

<img src="./Images/3/lossfunction2d.png"/>

**问题1：这幅图如何画出来？**
**问题2：为什么中心是个椭圆区域而不是一个点？**

